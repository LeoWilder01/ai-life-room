/** Static city/country → lat/lon lookup for world-map agent placement. */

const CITY_COORDS: Record<string, { lat: number; lon: number }> = {
  // North America
  'new york': { lat: 40.71, lon: -74.01 },
  'new york city': { lat: 40.71, lon: -74.01 },
  'nyc': { lat: 40.71, lon: -74.01 },
  'los angeles': { lat: 34.05, lon: -118.24 },
  'la': { lat: 34.05, lon: -118.24 },
  'chicago': { lat: 41.88, lon: -87.63 },
  'houston': { lat: 29.76, lon: -95.37 },
  'phoenix': { lat: 33.45, lon: -112.07 },
  'san francisco': { lat: 37.77, lon: -122.42 },
  'sf': { lat: 37.77, lon: -122.42 },
  'seattle': { lat: 47.61, lon: -122.33 },
  'boston': { lat: 42.36, lon: -71.06 },
  'miami': { lat: 25.77, lon: -80.19 },
  'denver': { lat: 39.74, lon: -104.98 },
  'atlanta': { lat: 33.75, lon: -84.39 },
  'washington': { lat: 38.91, lon: -77.04 },
  'washington dc': { lat: 38.91, lon: -77.04 },
  'las vegas': { lat: 36.17, lon: -115.14 },
  'portland': { lat: 45.52, lon: -122.68 },
  'minneapolis': { lat: 44.98, lon: -93.27 },
  'detroit': { lat: 42.33, lon: -83.05 },
  'nashville': { lat: 36.17, lon: -86.78 },
  'austin': { lat: 30.27, lon: -97.74 },
  'dallas': { lat: 32.78, lon: -96.80 },
  'philadelphia': { lat: 39.95, lon: -75.17 },
  'san diego': { lat: 32.72, lon: -117.15 },
  'toronto': { lat: 43.65, lon: -79.38 },
  'montreal': { lat: 45.50, lon: -73.57 },
  'vancouver': { lat: 49.25, lon: -123.12 },
  'calgary': { lat: 51.05, lon: -114.07 },
  'ottawa': { lat: 45.42, lon: -75.69 },
  'mexico city': { lat: 19.43, lon: -99.13 },
  'guadalajara': { lat: 20.67, lon: -103.35 },
  'monterrey': { lat: 25.68, lon: -100.32 },
  'havana': { lat: 23.13, lon: -82.38 },
  'san jose': { lat: 9.93, lon: -84.08 },
  'panama city': { lat: 8.99, lon: -79.52 },

  // South America
  'sao paulo': { lat: -23.55, lon: -46.63 },
  'são paulo': { lat: -23.55, lon: -46.63 },
  'rio de janeiro': { lat: -22.91, lon: -43.17 },
  'rio': { lat: -22.91, lon: -43.17 },
  'buenos aires': { lat: -34.61, lon: -58.38 },
  'bogota': { lat: 4.71, lon: -74.07 },
  'bogotá': { lat: 4.71, lon: -74.07 },
  'lima': { lat: -12.05, lon: -77.04 },
  'santiago': { lat: -33.45, lon: -70.67 },
  'caracas': { lat: 10.48, lon: -66.88 },
  'quito': { lat: -0.23, lon: -78.52 },
  'la paz': { lat: -16.50, lon: -68.15 },
  'montevideo': { lat: -34.90, lon: -56.19 },
  'asuncion': { lat: -25.29, lon: -57.65 },
  'asunción': { lat: -25.29, lon: -57.65 },
  'medellin': { lat: 6.25, lon: -75.56 },
  'medellín': { lat: 6.25, lon: -75.56 },
  'manaus': { lat: -3.10, lon: -60.03 },
  'fortaleza': { lat: -3.72, lon: -38.54 },
  'recife': { lat: -8.05, lon: -34.88 },
  'belo horizonte': { lat: -19.92, lon: -43.94 },

  // Europe
  'london': { lat: 51.51, lon: -0.13 },
  'paris': { lat: 48.85, lon: 2.35 },
  'berlin': { lat: 52.52, lon: 13.40 },
  'madrid': { lat: 40.42, lon: -3.70 },
  'rome': { lat: 41.90, lon: 12.50 },
  'amsterdam': { lat: 52.37, lon: 4.90 },
  'vienna': { lat: 48.21, lon: 16.37 },
  'warsaw': { lat: 52.23, lon: 21.01 },
  'prague': { lat: 50.08, lon: 14.44 },
  'athens': { lat: 37.98, lon: 23.73 },
  'stockholm': { lat: 59.33, lon: 18.07 },
  'oslo': { lat: 59.91, lon: 10.75 },
  'helsinki': { lat: 60.17, lon: 24.94 },
  'copenhagen': { lat: 55.68, lon: 12.57 },
  'zurich': { lat: 47.38, lon: 8.54 },
  'barcelona': { lat: 41.39, lon: 2.15 },
  'lisbon': { lat: 38.72, lon: -9.14 },
  'budapest': { lat: 47.50, lon: 19.04 },
  'brussels': { lat: 50.85, lon: 4.35 },
  'dublin': { lat: 53.33, lon: -6.25 },
  'edinburgh': { lat: 55.95, lon: -3.19 },
  'milan': { lat: 45.46, lon: 9.19 },
  'munich': { lat: 48.14, lon: 11.58 },
  'hamburg': { lat: 53.55, lon: 9.99 },
  'frankfurt': { lat: 50.11, lon: 8.68 },
  'cologne': { lat: 50.94, lon: 6.96 },
  'rotterdam': { lat: 51.92, lon: 4.48 },
  'antwerp': { lat: 51.22, lon: 4.40 },
  'geneva': { lat: 46.20, lon: 6.14 },
  'bern': { lat: 46.95, lon: 7.45 },
  'zagreb': { lat: 45.81, lon: 15.98 },
  'belgrade': { lat: 44.82, lon: 20.46 },
  'bucharest': { lat: 44.43, lon: 26.10 },
  'sofia': { lat: 42.70, lon: 23.32 },
  'kyiv': { lat: 50.45, lon: 30.52 },
  'kiev': { lat: 50.45, lon: 30.52 },
  'minsk': { lat: 53.90, lon: 27.57 },
  'vilnius': { lat: 54.69, lon: 25.28 },
  'riga': { lat: 56.95, lon: 24.11 },
  'tallinn': { lat: 59.44, lon: 24.75 },
  'reykjavik': { lat: 64.14, lon: -21.89 },
  'moscow': { lat: 55.75, lon: 37.62 },
  'saint petersburg': { lat: 59.95, lon: 30.32 },
  'st. petersburg': { lat: 59.95, lon: 30.32 },

  // Africa
  'cairo': { lat: 30.04, lon: 31.24 },
  'lagos': { lat: 6.52, lon: 3.38 },
  'nairobi': { lat: -1.29, lon: 36.82 },
  'johannesburg': { lat: -26.20, lon: 28.04 },
  'cape town': { lat: -33.93, lon: 18.42 },
  'casablanca': { lat: 33.59, lon: -7.62 },
  'accra': { lat: 5.56, lon: -0.21 },
  'dar es salaam': { lat: -6.80, lon: 39.27 },
  'addis ababa': { lat: 9.03, lon: 38.74 },
  'kinshasa': { lat: -4.32, lon: 15.32 },
  'abuja': { lat: 9.06, lon: 7.50 },
  'dakar': { lat: 14.69, lon: -17.44 },
  'khartoum': { lat: 15.55, lon: 32.53 },
  'algiers': { lat: 36.74, lon: 3.06 },
  'tunis': { lat: 36.82, lon: 10.17 },
  'tripoli': { lat: 32.89, lon: 13.18 },
  'kampala': { lat: 0.32, lon: 32.58 },
  'harare': { lat: -17.83, lon: 31.05 },
  'lusaka': { lat: -15.42, lon: 28.28 },
  'luanda': { lat: -8.84, lon: 13.23 },
  'maputo': { lat: -25.97, lon: 32.59 },
  'antananarivo': { lat: -18.91, lon: 47.54 },

  // Middle East
  'dubai': { lat: 25.20, lon: 55.27 },
  'abu dhabi': { lat: 24.47, lon: 54.37 },
  'riyadh': { lat: 24.69, lon: 46.72 },
  'tehran': { lat: 35.69, lon: 51.39 },
  'baghdad': { lat: 33.34, lon: 44.40 },
  'amman': { lat: 31.95, lon: 35.93 },
  'beirut': { lat: 33.89, lon: 35.50 },
  'damascus': { lat: 33.51, lon: 36.29 },
  'jerusalem': { lat: 31.77, lon: 35.21 },
  'tel aviv': { lat: 32.08, lon: 34.78 },
  'istanbul': { lat: 41.01, lon: 28.95 },
  'ankara': { lat: 39.92, lon: 32.85 },
  'muscat': { lat: 23.61, lon: 58.59 },
  'doha': { lat: 25.29, lon: 51.53 },
  'kuwait city': { lat: 29.37, lon: 47.98 },
  'sanaa': { lat: 15.35, lon: 44.21 },

  // South Asia
  'mumbai': { lat: 19.08, lon: 72.88 },
  'bombay': { lat: 19.08, lon: 72.88 },
  'delhi': { lat: 28.61, lon: 77.21 },
  'new delhi': { lat: 28.61, lon: 77.21 },
  'bangalore': { lat: 12.97, lon: 77.59 },
  'bengaluru': { lat: 12.97, lon: 77.59 },
  'kolkata': { lat: 22.57, lon: 88.36 },
  'calcutta': { lat: 22.57, lon: 88.36 },
  'chennai': { lat: 13.08, lon: 80.27 },
  'madras': { lat: 13.08, lon: 80.27 },
  'hyderabad': { lat: 17.38, lon: 78.49 },
  'pune': { lat: 18.52, lon: 73.86 },
  'ahmedabad': { lat: 23.03, lon: 72.58 },
  'karachi': { lat: 24.86, lon: 67.01 },
  'lahore': { lat: 31.55, lon: 74.34 },
  'islamabad': { lat: 33.72, lon: 73.04 },
  'dhaka': { lat: 23.72, lon: 90.41 },
  'colombo': { lat: 6.93, lon: 79.85 },
  'kathmandu': { lat: 27.70, lon: 85.31 },
  'kabul': { lat: 34.53, lon: 69.17 },

  // East Asia
  'tokyo': { lat: 35.68, lon: 139.69 },
  'osaka': { lat: 34.69, lon: 135.50 },
  'kyoto': { lat: 35.01, lon: 135.77 },
  'nagoya': { lat: 35.18, lon: 136.91 },
  'sapporo': { lat: 43.06, lon: 141.35 },
  'beijing': { lat: 39.91, lon: 116.39 },
  'peking': { lat: 39.91, lon: 116.39 },
  'shanghai': { lat: 31.23, lon: 121.47 },
  'guangzhou': { lat: 23.13, lon: 113.26 },
  'shenzhen': { lat: 22.54, lon: 114.06 },
  'chengdu': { lat: 30.66, lon: 104.07 },
  'wuhan': { lat: 30.59, lon: 114.31 },
  'xi an': { lat: 34.27, lon: 108.95 },
  "xi'an": { lat: 34.27, lon: 108.95 },
  'chongqing': { lat: 29.56, lon: 106.55 },
  'hong kong': { lat: 22.33, lon: 114.17 },
  'taipei': { lat: 25.05, lon: 121.53 },
  'seoul': { lat: 37.57, lon: 126.98 },
  'busan': { lat: 35.10, lon: 129.03 },
  'pyongyang': { lat: 39.03, lon: 125.75 },
  'ulaanbaatar': { lat: 47.91, lon: 106.88 },

  // Southeast Asia
  'bangkok': { lat: 13.75, lon: 100.52 },
  'ho chi minh city': { lat: 10.82, lon: 106.63 },
  'saigon': { lat: 10.82, lon: 106.63 },
  'hanoi': { lat: 21.03, lon: 105.85 },
  'jakarta': { lat: -6.21, lon: 106.85 },
  'singapore': { lat: 1.35, lon: 103.82 },
  'kuala lumpur': { lat: 3.14, lon: 101.69 },
  'kl': { lat: 3.14, lon: 101.69 },
  'manila': { lat: 14.60, lon: 120.98 },
  'yangon': { lat: 16.87, lon: 96.19 },
  'rangoon': { lat: 16.87, lon: 96.19 },
  'phnom penh': { lat: 11.56, lon: 104.92 },
  'vientiane': { lat: 17.97, lon: 102.63 },
  'naypyidaw': { lat: 19.76, lon: 96.08 },
  'dili': { lat: -8.56, lon: 125.57 },
  'bandar seri begawan': { lat: 4.94, lon: 114.95 },
  'surabaya': { lat: -7.25, lon: 112.75 },
  'bali': { lat: -8.41, lon: 115.19 },
  'denpasar': { lat: -8.67, lon: 115.21 },

  // Central Asia
  'almaty': { lat: 43.25, lon: 76.95 },
  'tashkent': { lat: 41.30, lon: 69.24 },
  'bishkek': { lat: 42.87, lon: 74.59 },
  'dushanbe': { lat: 38.56, lon: 68.77 },
  'ashgabat': { lat: 37.95, lon: 58.38 },

  // Russia
  'novosibirsk': { lat: 54.99, lon: 82.90 },
  'yekaterinburg': { lat: 56.84, lon: 60.61 },
  'kazan': { lat: 55.78, lon: 49.12 },
  'vladivostok': { lat: 43.12, lon: 131.91 },
  'irkutsk': { lat: 52.30, lon: 104.28 },

  // Oceania
  'sydney': { lat: -33.87, lon: 151.21 },
  'melbourne': { lat: -37.81, lon: 144.96 },
  'brisbane': { lat: -27.47, lon: 153.03 },
  'perth': { lat: -31.95, lon: 115.86 },
  'adelaide': { lat: -34.93, lon: 138.60 },
  'auckland': { lat: -36.86, lon: 174.76 },
  'wellington': { lat: -41.29, lon: 174.78 },
  'christchurch': { lat: -43.53, lon: 172.64 },
  'port moresby': { lat: -9.44, lon: 147.19 },
  'suva': { lat: -18.14, lon: 178.44 },
};

const COUNTRY_COORDS: Record<string, { lat: number; lon: number }> = {
  'united states': { lat: 38.0, lon: -97.0 },
  'usa': { lat: 38.0, lon: -97.0 },
  'us': { lat: 38.0, lon: -97.0 },
  'america': { lat: 38.0, lon: -97.0 },
  'canada': { lat: 56.13, lon: -106.35 },
  'mexico': { lat: 23.63, lon: -102.55 },
  'brazil': { lat: -14.24, lon: -51.93 },
  'argentina': { lat: -38.42, lon: -63.62 },
  'colombia': { lat: 4.57, lon: -74.30 },
  'peru': { lat: -9.19, lon: -75.02 },
  'venezuela': { lat: 6.42, lon: -66.59 },
  'chile': { lat: -35.68, lon: -71.54 },
  'ecuador': { lat: -1.83, lon: -78.18 },
  'bolivia': { lat: -16.29, lon: -63.59 },
  'paraguay': { lat: -23.44, lon: -58.44 },
  'uruguay': { lat: -32.52, lon: -55.77 },
  'uk': { lat: 55.38, lon: -3.44 },
  'united kingdom': { lat: 55.38, lon: -3.44 },
  'england': { lat: 52.36, lon: -1.17 },
  'scotland': { lat: 56.49, lon: -4.20 },
  'wales': { lat: 52.13, lon: -3.78 },
  'ireland': { lat: 53.41, lon: -8.24 },
  'france': { lat: 46.23, lon: 2.21 },
  'germany': { lat: 51.17, lon: 10.45 },
  'spain': { lat: 40.46, lon: -3.75 },
  'italy': { lat: 41.87, lon: 12.57 },
  'portugal': { lat: 39.40, lon: -8.22 },
  'netherlands': { lat: 52.13, lon: 5.29 },
  'holland': { lat: 52.13, lon: 5.29 },
  'belgium': { lat: 50.50, lon: 4.47 },
  'switzerland': { lat: 46.82, lon: 8.23 },
  'austria': { lat: 47.52, lon: 14.55 },
  'sweden': { lat: 60.13, lon: 18.64 },
  'norway': { lat: 60.47, lon: 8.47 },
  'denmark': { lat: 56.26, lon: 9.50 },
  'finland': { lat: 61.92, lon: 25.75 },
  'poland': { lat: 51.92, lon: 19.15 },
  'czech republic': { lat: 49.82, lon: 15.47 },
  'czechia': { lat: 49.82, lon: 15.47 },
  'hungary': { lat: 47.16, lon: 19.50 },
  'romania': { lat: 45.94, lon: 24.97 },
  'greece': { lat: 39.07, lon: 21.82 },
  'turkey': { lat: 38.96, lon: 35.24 },
  'ukraine': { lat: 48.38, lon: 31.17 },
  'russia': { lat: 61.52, lon: 105.32 },
  'egypt': { lat: 26.82, lon: 30.80 },
  'nigeria': { lat: 9.08, lon: 8.68 },
  'kenya': { lat: -0.02, lon: 37.91 },
  'south africa': { lat: -30.56, lon: 22.94 },
  'ethiopia': { lat: 9.15, lon: 40.49 },
  'ghana': { lat: 7.95, lon: -1.02 },
  'morocco': { lat: 31.79, lon: -7.09 },
  'tanzania': { lat: -6.37, lon: 34.89 },
  'congo': { lat: -4.04, lon: 21.76 },
  'cameroon': { lat: 3.85, lon: 11.50 },
  'angola': { lat: -11.20, lon: 17.87 },
  'mozambique': { lat: -18.67, lon: 35.53 },
  'madagascar': { lat: -18.77, lon: 46.87 },
  'zimbabwe': { lat: -19.01, lon: 29.15 },
  'zambia': { lat: -13.13, lon: 27.85 },
  'senegal': { lat: 14.50, lon: -14.45 },
  'saudi arabia': { lat: 23.89, lon: 45.08 },
  'iran': { lat: 32.43, lon: 53.69 },
  'iraq': { lat: 33.22, lon: 43.68 },
  'uae': { lat: 23.42, lon: 53.85 },
  'united arab emirates': { lat: 23.42, lon: 53.85 },
  'jordan': { lat: 30.59, lon: 36.24 },
  'israel': { lat: 31.05, lon: 34.85 },
  'lebanon': { lat: 33.85, lon: 35.86 },
  'syria': { lat: 34.80, lon: 38.99 },
  'india': { lat: 20.59, lon: 78.96 },
  'pakistan': { lat: 30.38, lon: 69.35 },
  'bangladesh': { lat: 23.68, lon: 90.36 },
  'sri lanka': { lat: 7.87, lon: 80.77 },
  'nepal': { lat: 28.39, lon: 84.12 },
  'afghanistan': { lat: 33.94, lon: 67.71 },
  'china': { lat: 35.86, lon: 104.19 },
  'japan': { lat: 36.20, lon: 138.25 },
  'south korea': { lat: 35.91, lon: 127.77 },
  'korea': { lat: 35.91, lon: 127.77 },
  'north korea': { lat: 40.34, lon: 127.51 },
  'taiwan': { lat: 23.70, lon: 120.96 },
  'mongolia': { lat: 46.86, lon: 103.85 },
  'thailand': { lat: 15.87, lon: 100.99 },
  'vietnam': { lat: 14.06, lon: 108.28 },
  'indonesia': { lat: -0.79, lon: 113.92 },
  'philippines': { lat: 12.88, lon: 121.77 },
  'malaysia': { lat: 4.21, lon: 101.98 },
  'singapore': { lat: 1.35, lon: 103.82 },
  'myanmar': { lat: 16.87, lon: 96.11 },
  'cambodia': { lat: 12.57, lon: 104.99 },
  'laos': { lat: 19.86, lon: 102.50 },
  'australia': { lat: -25.27, lon: 133.78 },
  'new zealand': { lat: -40.90, lon: 174.89 },
  'kazakhstan': { lat: 48.02, lon: 66.92 },
  'uzbekistan': { lat: 41.38, lon: 64.59 },
  'kyrgyzstan': { lat: 41.20, lon: 74.77 },
  'tajikistan': { lat: 38.86, lon: 71.28 },
  'turkmenistan': { lat: 38.97, lon: 59.56 },
};

export function getCityLatLon(
  city: string,
  country: string
): { lat: number; lon: number } | null {
  const cityKey = city.toLowerCase().trim();
  const countryKey = country.toLowerCase().trim();

  // Try exact city match first
  if (CITY_COORDS[cityKey]) return CITY_COORDS[cityKey];

  // Try partial city match (e.g., "New York, NY" → "new york")
  for (const [key, coords] of Object.entries(CITY_COORDS)) {
    if (cityKey.startsWith(key) || key.startsWith(cityKey)) {
      return coords;
    }
  }

  // Fall back to country centroid
  if (COUNTRY_COORDS[countryKey]) return COUNTRY_COORDS[countryKey];

  // Try partial country match
  for (const [key, coords] of Object.entries(COUNTRY_COORDS)) {
    if (countryKey.includes(key) || key.includes(countryKey)) {
      return coords;
    }
  }

  return null;
}
